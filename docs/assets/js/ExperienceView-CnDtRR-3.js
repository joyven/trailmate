import{d as F,g as z,h as v,c as r,a as D,b as s,i as x,f as E,F as u,j as p,k as N,v as R,l as A,t as m,n as h,m as H,o as i,_ as S}from"./index-9lyu1xVu.js";const T={class:"min-h-screen bg-gray-50"},U={class:"py-16"},W={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},P={class:"flex justify-center mb-12"},G={class:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-6"},J={class:"p-4"},K={class:"flex items-center space-x-3 mb-3"},O={class:"w-10 h-10 rounded-full overflow-hidden"},Q=["src","alt"],X={class:"flex-1"},Y={class:"font-semibold text-gray-900"},Z={class:"text-sm text-gray-500"},ee={class:"flex text-yellow-400"},te={class:"text-gray-700 text-sm leading-relaxed mb-4"},se={key:0,class:"mb-4"},ae={class:"grid gap-1 rounded-lg overflow-hidden"},le=["onClick"],re=["src","alt"],ie={key:0,class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center"},ne={class:"text-white font-semibold text-lg"},oe={class:"flex items-center justify-between pt-3 border-t border-gray-100"},ce={class:"flex items-center space-x-4 text-sm text-gray-500"},de=["onClick"],ue={class:"flex items-center space-x-1 hover:text-blue-500 transition-colors"},pe={class:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},me={class:"mb-6"},ge={class:"flex items-center space-x-1"},ve=["onClick"],xe={class:"mb-6"},he={class:"mb-6"},fe={class:"grid grid-cols-4 gap-3"},be=["src"],ke=["onClick"],ye={class:"flex items-center justify-end space-x-3 p-6 border-t bg-gray-50"},we=["disabled"],_e={class:"relative max-w-4xl max-h-full"},je={class:"flex space-x-2 overflow-x-auto"},Ce=["src","alt"],Me=F({__name:"ExperienceView",setup(ze){const f=z([{id:1,user:{name:"田中美香",avatar:"/trailmate/images/avatar/avatar-1.png"},rating:5,time:"2時間前",content:"倉敷美観地区を歩いて真的很有feel！古民家と川沿いの风景 составляют картину, как из фильма。 Particularly love the ivy-covered walls and traditional architecture. 推薦大家來這裡慢慢散步，感受歷史的氛圍。",images:["/trailmate/images/experience/1-1.jpg","/trailmate/images/experience/1-2.jpg"],likes:24,comments:8,liked:!1},{id:2,user:{name:"佐藤健太",avatar:"/trailmate/images/avatar/avatar-2.png"},rating:4,time:"1日前",content:"倉敷の jean street でshoppingしました！オリジナル-jeans が本当にqualityが高いです。店員のserviceも良くて、many options がありました。價格もreasonableで、worth visiting!",images:["/trailmate/images/experience/2-1.jpg","/trailmate/images/experience/2-2.jpg","/trailmate/images/experience/2-3.jpg"],likes:18,comments:12,liked:!0},{id:3,user:{name:"山田花子",avatar:"/trailmate/images/avatar/avatar-3.png"},rating:5,time:"3日前",content:"大原美術館はreally impressive！、特にモネの睡蓮は震撼的で、many art lovers の楽しめるplaceです。館内のデザインもelegantで、coffee shop のviewも素晴らしい。Highly recommended!",images:["/trailmate/images/experience/3-1.jpg","/trailmate/images/experience/3-2.jpg","/trailmate/images/experience/3-3.jpg","/trailmate/images/experience/3-4.jpg"],likes:42,comments:15,liked:!1},{id:4,user:{name:"高橋大輔",avatar:"/trailmate/images/avator/avatar-4.png"},rating:4,time:"4時間前",content:"倉敷の猫岛でtime was spent! 多くの猫とinteractiveして本当にfun experience。特にblack catのpersonalityが魅力的でした。おすすめスポットです！",images:["/trailmate/images/experience/4-1.jpg","/trailmate/images/experience/4-2.jpg","/trailmate/images/experience/4-3.jpg","/trailmate/images/experience/4-4.jpg","/trailmate/images/experience/4-5.jpg"],likes:35,comments:22,liked:!0},{id:5,user:{name:"鈴木一郎",avatar:"/trailmate/images/avatar/avatar-1.png"},rating:5,time:"5時間前",content:"倉敷の川遊船はreally relaxing experience！美しい景色とfreshな空氣で、日常のstressがすべて吹き飛びました。familyと行くに最適のスポットです。",images:["/trailmate/images/experience/5-1.jpg","/trailmate/images/experience/5-2.jpg","/trailmate/images/experience/5-3.jpg","/trailmate/images/experience/5-4.jpg","/trailmate/images/experience/5-5.jpg","/trailmate/images/experience/5-6.jpg"],likes:28,comments:18,liked:!1},{id:6,user:{name:"中村美咲",avatar:"/trailmate/images/avatar/avatar-2.png"},rating:5,time:"6時間前",content:"倉敷の古老な茶屋で日本のtraditional tea ceremonyを体験しました！masterの説明が詳しくて、茶の味道もreally exquisite。また必ず行きたいplaceです。",images:["/trailmate/images/experience/6-1.jpg","/trailmate/images/experience/6-2.jpg","/trailmate/images/experience/6-3.jpg","/trailmate/images/experience/6-4.jpg","/trailmate/images/experience/6-5.jpg","/trailmate/images/experience/6-6.jpg","/trailmate/images/experience/6-7.jpg"],likes:51,comments:33,liked:!0}]),b=v(!1),k=v(!1),y=v([]),n=z({rating:0,content:"",images:[]}),_=v(),w=e=>{const t=[];if(e.length===0)return t;switch(e.length){case 1:t.push([e[0]]);break;case 2:t.push([e[0],e[1]]);break;case 3:t.push([e[0],e[1],e[2]]);break;case 4:t.push([e[0],e[1]]),t.push([e[2],e[3]]);break;case 5:t.push([e[0],e[1],e[2]]),t.push([e[3],e[4]]);break;case 6:t.push([e[0],e[1],e[2]]),t.push([e[3],e[4],e[5]]);break;case 7:t.push([e[0],e[1],e[2]]),t.push([e[3],e[4]]),t.push([e[5],e[6]]);break;case 8:t.push([e[0],e[1],e[2]]),t.push([e[3],e[4],e[5]]),t.push([e[6],e[7]]);break;case 9:t.push([e[0],e[1],e[2]]),t.push([e[3],e[4],e[5]]),t.push([e[6],e[7],e[8]]);break;default:const a=Math.min(e.length,8);a<=3?t.push(e.slice(0,a)):a<=6?(t.push(e.slice(0,3)),t.push(e.slice(3,a))):(t.push(e.slice(0,3)),t.push(e.slice(3,6)),t.push(e.slice(6,a)));break}return t},j=(e,t,a)=>{let l=0;const o=w(e);for(let c=0;c<t;c++)l+=o[c].length;return l+a},C=e=>e.length<=3?e.length:e.length<=6?6:8,B=e=>{const t=f.find(a=>a.id===e);t&&(t.liked=!t.liked,t.likes+=t.liked?1:-1)},L=()=>{var e;(e=_.value)==null||e.click()},I=e=>{const a=e.target.files;a&&Array.from(a).forEach(l=>{if(l.type.startsWith("image/")){const o=new FileReader;o.onload=c=>{var d;(d=c.target)!=null&&d.result&&n.images.push(c.target.result)},o.readAsDataURL(l)}})},$=e=>{n.images.splice(e,1)},g=()=>{b.value=!1,n.rating=0,n.content="",n.images=[]},V=()=>{!n.content.trim()||n.rating===0||(f.unshift({id:Date.now(),user:{name:"Anonymous",avatar:"/images/avator/default-avatar.png"},rating:n.rating,time:"たった今",content:n.content,images:[...n.images],likes:0,comments:0,liked:!1}),g())},q=(e,t)=>{y.value=e,k.value=!0},M=()=>{k.value=!1,y.value=[]};return(e,t)=>(i(),r("div",T,[t[16]||(t[16]=D('<section class="relative h-96 flex items-center justify-center overflow-hidden" data-v-542a4cad><div class="absolute inset-0 z-0" data-v-542a4cad><img src="https://images.unsplash.com/photo-1545569341-9eb8b30979d9?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=2070&amp;q=80" alt="倉敷体験" class="w-full h-full object-cover" data-v-542a4cad><div class="absolute inset-0 bg-black bg-opacity-50" data-v-542a4cad></div></div><div class="relative z-10 text-center text-white px-4" data-v-542a4cad><h1 class="text-5xl md:text-6xl font-bold mb-4" data-v-542a4cad>体験打卡</h1><p class="text-xl md:text-2xl" data-v-542a4cad> 倉敷を体験した方の生の声とレポートをお届けします。 </p></div></section>',1)),s("section",U,[s("div",W,[s("div",P,[s("button",{onClick:t[0]||(t[0]=a=>b.value=!0),class:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-4 rounded-full font-semibold text-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"},[...t[3]||(t[3]=[s("svg",{class:"w-6 h-6 inline-block mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),E(" レビューを書く ",-1)])])]),s("div",G,[(i(!0),r(u,null,p(f,a=>(i(),r("div",{key:a.id,class:"break-inside-avoid mb-6 bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},[s("div",J,[s("div",K,[s("div",O,[s("img",{src:a.user.avatar,alt:a.user.name,class:"w-full h-full object-cover"},null,8,Q)]),s("div",X,[s("h3",Y,m(a.user.name),1),s("p",Z,m(a.time),1)]),s("div",ee,[(i(),r(u,null,p(5,l=>s("svg",{key:l,class:h(["w-4 h-4 fill-current",{"opacity-30":l>a.rating}]),viewBox:"0 0 20 20"},[...t[4]||(t[4]=[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))])]),s("p",te,m(a.content),1),a.images&&a.images.length>0?(i(),r("div",se,[s("div",ae,[(i(!0),r(u,null,p(w(a.images),(l,o)=>(i(),r("div",{key:o,class:h("grid gap-1"),style:H({gridTemplateColumns:`repeat(${l.length}, 1fr)`})},[(i(!0),r(u,null,p(l,(c,d)=>(i(),r("div",{key:d,class:"relative group cursor-pointer aspect-square",onClick:Be=>q(a.images,j(a.images,o,d))},[s("img",{src:c,alt:`画像 ${j(a.images,o,d)+1}`,class:"w-full h-full object-cover group-hover:opacity-90 transition-opacity"},null,8,re),o===w(a.images).length-1&&d===l.length-1&&a.images.length>C(a.images)?(i(),r("div",ie,[s("span",ne," +"+m(a.images.length-C(a.images)),1)])):x("",!0)],8,le))),128))],4))),128))])])):x("",!0),s("div",oe,[s("div",ce,[s("button",{onClick:l=>B(a.id),class:"flex items-center space-x-1 hover:text-red-500 transition-colors"},[(i(),r("svg",{class:h(["w-5 h-5",{"fill-current text-red-500":a.liked}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[5]||(t[5]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],2)),s("span",null,m(a.likes),1)],8,de),s("button",ue,[t[6]||(t[6]=s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),s("span",null,m(a.comments),1)])]),t[7]||(t[7]=s("button",{class:"text-sm text-gray-400 hover:text-gray-600"},[s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})])],-1))])])]))),128))])])]),b.value?(i(),r("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:g},[s("div",{class:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",onClick:t[2]||(t[2]=A(()=>{},["stop"]))},[s("div",{class:"flex items-center justify-between p-6 border-b"},[t[9]||(t[9]=s("h2",{class:"text-xl font-bold text-gray-900"},"レビューを書く",-1)),s("button",{onClick:g,class:"text-gray-400 hover:text-gray-600"},[...t[8]||(t[8]=[s("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s("div",pe,[s("div",me,[t[11]||(t[11]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"評価",-1)),s("div",ge,[(i(),r(u,null,p(5,a=>s("button",{key:a,onClick:l=>n.rating=a,class:"p-1"},[(i(),r("svg",{class:h(["w-8 h-8 transition-colors",a<=n.rating?"text-yellow-400":"text-gray-300"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[10]||(t[10]=[s("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2))],8,ve)),64))])]),s("div",xe,[t[12]||(t[12]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"体験分享",-1)),N(s("textarea",{"onUpdate:modelValue":t[1]||(t[1]=a=>n.content=a),rows:"6",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-pink-500 focus:border-transparent resize-none",placeholder:"あなたの体験を詳しく分享してください..."},null,512),[[R,n.content]])]),s("div",he,[t[14]||(t[14]=s("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"写真追加",-1)),s("div",fe,[s("div",{onClick:L,class:"aspect-square border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center cursor-pointer hover:border-pink-400 transition-colors"},[...t[13]||(t[13]=[s("div",{class:"text-center"},[s("svg",{class:"w-8 h-8 text-gray-400 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})]),s("p",{class:"text-xs text-gray-500"},"追加")],-1)])]),(i(!0),r(u,null,p(n.images,(a,l)=>(i(),r("div",{key:l,class:"relative aspect-square rounded-lg overflow-hidden"},[s("img",{src:a,alt:"プレビュー",class:"w-full h-full object-cover"},null,8,be),s("button",{onClick:o=>$(l),class:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600"}," × ",8,ke)]))),128))]),s("input",{ref_key:"fileInput",ref:_,type:"file",multiple:"",accept:"image/*",onChange:I,class:"hidden"},null,544)])]),s("div",ye,[s("button",{onClick:g,class:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"}," キャンセル "),s("button",{onClick:V,disabled:!n.content.trim()||n.rating===0,class:"px-6 py-2 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg hover:from-pink-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all"}," 投稿する ",8,we)])])])):x("",!0),k.value?(i(),r("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:M},[s("div",_e,[s("button",{onClick:M,class:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},[...t[15]||(t[15]=[s("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),s("div",je,[(i(!0),r(u,null,p(y.value,(a,l)=>(i(),r("img",{key:l,src:a,alt:`画像 ${l+1}`,class:"max-w-full max-h-[80vh] object-contain rounded-lg"},null,8,Ce))),128))])])])):x("",!0)]))}}),Ie=S(Me,[["__scopeId","data-v-542a4cad"]]);export{Ie as default};
